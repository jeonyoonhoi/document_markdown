## 03-3 뷰 컴포넌트 통신

### 컴포넌트간 통신과 유효 범위

- 앵귤러1 이나 백본(Backbone.js) 같은 초창기 자바스크립트 프레임워크에서는 한 화면을 1개의 View 로 간주했음
- 뷰는 컴포넌트로 화면을 구성하므로 같은 웹페이지라도 데이터를 공유할 수 없다. 
- 컴포넌트마다 자체적으로 고유한 유효 범위를 갖는다. 



### 상 하위 컴포넌트 관계

- 뷰 프레임워크 자체에서 정의한 컴포넌트 데이터 전달 방법
- 상위- -하위 컴포넌트 간의 데이터 전달 방법



### 상위에서 하위 컴포넌트로 데이터 전달하기

#### props 속성

- 상위 --> 하위 컴포넌트로 데이터를 전달할 때 사용하는 속성이다. 
- props의 속성을 사용하려면 다음과 같이 하위 컴포넌트의 정의한다. 

``` javascript
Vue.component('child-component',{
    props : ['props 속성이름'],
});
```



그 다음 상위 컴포넌트의 html 코드에 등록된 ```child-compnent``` 컴포넌트 태그에 ```v-bind``` 속성을 추기한다. 



``` javascript
<child-component v-bind:props 속성 이름="상위 컴포넌트의 data 속성"></child-compnent>
```



v-bind 속성의 왼쪽 값으로 하위 컴포넌트에서 정의한 props 속성을 넣고, 오른쪽 값으로 하위 컴포넌트에 전달할 상위 컴포넌트의 데이터 속성을 지정한다. 



* 컴포넌트 간의 관계

index6.html 예제를 보면 child-component를 전역으로 등록한것 이외에 딱히 상위 컴포넌트를 지정하지 않았다. 그럼에도 불구하고 뷰인스턴스 안에 마치 상위 컴포넌트가 존재하는 것처럼 하위 컴포넌트로 props를 내려보냈다. 

==> 컴포넌트를 등록함과 동시에 뷰 인스턴스 자체가 상위컴포넌트가 ㅗ디기 때문이다. 



### 하위에서 상위 컴포넌트로 이벤트 전달하기

##### 이벤트 발생과 수신

- 상위 컴포넌트에서 특정 이벤트 발생을 기다리고 있다가

- 하위 컴포넌트에서 이벤트를 발생시킴(event emit)

- 상위 컴포넌트에서 이벤트를 수신하여 상위 컴포넌트의 메서드 호출

  

##### 하위에서 상위로의 데이터 전달은?

- 뷰의 데이터 단방향 데이터 흐름에 어긋남
- 향후에는 이벤트 버스로 전달하는 경우가 있음



##### 이벤트 발생과 수신 형식

``` javascript
// 이벤트 발생
this.$emit('이벤트 명');

// 이벤트 수신
<child-component v-on : 이벤트명 = "상위 컴포넌트 메서드 명></child-component>
```

##### 같은 레벨의 컴포넌트 간 통신은?

- 상위 --> 하위 : props
- 하위 --> 상위 : 이벤트
- 동등 --> 동등 :  이벤트 버스
  - 만약 없다면 하위 --> 상위 --> 두 번에 거쳐야 함



### 관계없는 컴포넌트 간 통신 - 이벤트 버스 

- 이벤트 버스 : 2 개의 컴포넌트 간에 데이터를 주고받을 수 있는 방법
- 





